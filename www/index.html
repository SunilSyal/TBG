<!doctype html>
<html>

<head>
    <script src="cordova.js"></script>
    <script src="scripts/angular.min.js"></script>
    <link rel="stylesheet" href="styles/main.css">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>

<body ng-app="TBG" ng-controller="tbg__main-ctrl as ctrl">
    <header>

        
        <img class="logo" src="images/logo.png"/>

        <p class="breadcrumb dark-background">

        <select class="dark-background no-border" ng-model="ctrl.breadcrumb" ng-init="ctrl.breadcrumb = 'TST' ">
            <option
                class="light-color div-name standard-option"
                ng-repeat="option in ctrl.catList()"
                value="{{option.id}}">
                {{option.title}}
            </option>
        </select>
</p>

    <main>
            <ul class='site-list'>
                <li class="clickable" ng-repeat="item in ctrl.getSiteList()" ng-if="item.cats.indexOf(ctrl.breadcrumb)!=-1">
                    <a 
                    ng-click="ctrl.openWindow(item.tgt)"
                    href="javascript:void(0)">
                        <img src="{{item.img}}" alt="{{item.name}}">
                        <p>{{item.name}}</p>

                        

                    </a>
                </li>
            </ul>
    </main>



    <footer class="full-width dark-background">

        <div 
            class="refresh light-background simple-shadow"
            ng-click = "ctrl.refresh()">
            <img src="images/refresh.png" />
        </div>

        <p>Events and Sales</p>
        <ul class='sale-list full-width small-font'>
                <li class="clickable" ng-repeat="item in ctrl.getSaleList() | orderBy:'Date(endDate)'" ng-if="item.date">
                    <a 
                    ng-click="ctrl.openWindow(item.tgt)"
                    href="javascript:void(0)">
                        <div class="div-name div-date light-color">{{item.date}}</div>
                        <div class="div-name light-color">{{item.name}}</div>
                        <div 
                        ng-if = "item.event"
                        class="div-name div-event light-color">
                            {{item.event}}
                        </div>
                        <div 
                        ng-if = "item.greenEvent"
                        class="div-name div-event light-color color-green">
                            {{item.greenEvent}}
                        </div>

                        <div 
                        ng-if = "item.redEvent"
                        class="div-name div-event light-color color-red">
                            {{item.redEvent}}
                        </div>

                        <div 
                        ng-if = "item.amberEvent"
                        class="div-name div-event light-color color-amber">
                            {{item.amberEvent}}
                        </div>
                    </a>
                </li>
            </ul>
    </footer>

    <script src="scripts/tbg_controller.js"></script>
</body>

</html>
